(()=>{"use strict";const t=new class{constructor(){this.URI="/api/lyrics"}async getLyrics(){const t=await fetch(this.URI);return await t.json()}async getLyric(t){const e=await fetch(`${this.URI}/${t}`,{});return await e.json()}async postLyric(t){console.log(t,"ANTES LOG");const e=await fetch(this.URI,{headers:{"Content-Type":"application/json"},method:"POST",body:t});await e.json()}async deleteLyric(t){const e=await fetch(`${this.URI}/${t}`,{headers:{"Content-Type":"application/json"},method:"DELETE"});await e.json()}},e=new class{constructor(){this.URI="/api/songs"}async getSongs(){const t=await fetch(this.URI);return await t.json()}async getSong(t){const e=await fetch(`${this.URI}/${t}`,{});return await e.json()}async postSong(t){const e=await fetch(this.URI,{headers:{"Content-Type":"application/json"},method:"POST",body:t});return await e.json()}async deleteSong(t){const e=await fetch(`${this.URI}/${t}`,{headers:{"Content-Type":"application/json"},method:"DELETE"}),a=await e.json();console.log(a)}async searchSongLike(t){console.log(t);const e=await fetch(`${this.URI}/search/search?q=${t}`,{headers:{"Content-Type":"application/json"},method:"GET"});return await e.json()}},a=new class{constructor(){this.URI="/api/category"}async getCategories(){const t=await fetch(this.URI);return await t.json()}async getCategory(t){const e=await fetch(`${this.URI}/${t}`,{});return await e.json()}async postCategory(t){const e=await fetch(this.URI,{headers:{"Content-Type":"application/json"},method:"POST",body:t});return await e.json()}async deleteCategory(t){const e=await fetch(`${this.URI}/${t}`,{headers:{"Content-Type":"application/json"},method:"DELETE"});await e.json()}async updateCategory(t){const e=await fetch(`${this.URI}/${t._id}`,{headers:{"Content-Type":"application/json"},method:"PUT",body:JSON.stringify(t)});return await e.json()}},n=new class{constructor(){this.URI="/api/lyricsPublish"}async getLyricsPublish(){const t=await fetch(this.URI);return await t.json()}async postLyricPublish(t){const e=await fetch(this.URI,{headers:{"Content-Type":"application/json"},method:"POST",body:t});return await e.json()}async deleteLyricPublish(t){const e=await fetch(`${this.URI}/${t}`,{headers:{"Content-Type":"application/json"},method:"DELETE"});await e.json()}async getLyricPublish(t){const e=await fetch(`${this.URI}/${t}`,{});return await e.json()}async updateLyricPub(t){const e=await fetch(`${this.URI}/${t._id}`,{headers:{"Content-Type":"application/json"},method:"PUT",body:JSON.stringify(t)});return await e.json()}},o=class{async renderCategory(){const t=await a.getCategories(),e=document.getElementById("songsBook-card");e.innerHTML="",t.forEach((t=>{const a=document.createElement("div");a.className="card text-white bg-secondary mb-3",a.id="card-category-"+t._id,e.appendChild(a)}))}async renderCategory2(){(await a.getCategories()).forEach((t=>{const e=document.getElementById("card-category-"+t._id);e.innerHTML="";const a=document.createElement("div");a.className="card-header",a.id="header-category-"+t._id,a.innerHTML=`\n            ${t.categoryType} <h2>(ORDEN: ${t.order})</h2>\n            `,e.appendChild(a);const n=document.createElement("div");n.className="card-body",n.id="body-category-"+t._id,e.appendChild(n)}))}async renderSongBook(){(await n.getLyricsPublish()).forEach((async a=>{const n=document.getElementById("body-category-"+a.category);if(null!=n){n.innerHTML="";const o=await e.getSong(a.song),s=""+(await t.getLyric(o.lyric)).text,c=document.createElement("div");c.className="",c.id="card-category-"+a._id,c.innerHTML=`\n                <h4 class="card-title" id="song-title-${a._id}">${o.title}</h4>\n                `+s,n.appendChild(c)}}))}async renderCategory3(){(await a.getCategories()).forEach((t=>{const e=document.getElementById("card-category-"+t._id);e.innerHTML="";const a=document.createElement("div");a.className="card-header",a.id="header-category-"+t._id,a.innerHTML=`\n            ${t.categoryType}\n            `,e.appendChild(a);const n=document.createElement("div");n.className="card-body",n.id="body-category-"+t._id,e.appendChild(n)}))}};document.addEventListener("DOMContentLoaded",(()=>{const t=new o;t.renderCategory(),t.renderCategory2(),t.renderSongBook()})),document.getElementById("btn-update").addEventListener("click",(t=>{if(t.target.classList.contains("update")){const t=new o;null==document.querySelector("body-category-")&&(t.renderCategory2(),t.renderSongBook()),t.renderSongBook()}t.preventDefault()}))})();
//# sourceMappingURL=songBook.bundle.js.map