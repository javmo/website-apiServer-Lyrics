(()=>{"use strict";const t=class{constructor(){this.URI="/api/songs"}async getSongs(){const t=await fetch(this.URI);return await t.json()}async getSong(t){const e=await fetch(`${this.URI}/${t}`,{});return await e.json()}async postSong(t){const e=await fetch(this.URI,{headers:{"Content-Type":"application/json"},method:"POST",body:t});return await e.json()}async deleteSong(t){const e=await fetch(`${this.URI}/${t}`,{headers:{"Content-Type":"application/json"},method:"DELETE"}),n=await e.json();console.log(n)}async searchSongLike(t){console.log(t);const e=await fetch(`${this.URI}/search/search?q=${t}`,{headers:{"Content-Type":"application/json"},method:"GET"});return await e.json()}},e=class{constructor(){this.URI="/api/lyrics"}async getLyrics(){const t=await fetch(this.URI);return await t.json()}async getLyric(t){const e=await fetch(`${this.URI}/${t}`,{});return await e.json()}async postLyric(t){console.log(t,"ANTES LOG");const e=await fetch(this.URI,{headers:{"Content-Type":"application/json"},method:"POST",body:t});await e.json()}async deleteLyric(t){const e=await fetch(`${this.URI}/${t}`,{headers:{"Content-Type":"application/json"},method:"DELETE"});await e.json()}};new t,new e,new class{constructor(){this.URI="/api/genres"}async getGenres(){const t=await fetch(this.URI);return await t.json()}async getGenre(t){const e=await fetch(`${this.URI}/${t}`,{headers:{"Content-Type":"application/json"},method:"GET"});return await e.json()}async postSong(t){console.log(t,"ANTES LOG");const e=await fetch(this.URI,{headers:{"Content-Type":"application/json"},method:"POST",body:t});return await e.json()}async deleteSong(t){const e=await fetch(`${this.URI}/${t}`,{headers:{"Content-Type":"application/json"},method:"DELETE"});await e.json()}};const n=new e,a=new t,o=new class{constructor(){this.URI="/api/category"}async getCategories(){const t=await fetch(this.URI);return await t.json()}},s=new class{constructor(){this.URI="/api/lyricsPublish"}async getLyricsPublish(){const t=await fetch(this.URI);return await t.json()}async postLyricPublish(t){const e=await fetch(this.URI,{headers:{"Content-Type":"application/json"},method:"POST",body:t});return await e.json()}async deleteLyricPublish(t){const e=await fetch(`${this.URI}/${t}`,{headers:{"Content-Type":"application/json"},method:"DELETE"});await e.json()}},c=class{async renderCategory(){const t=await o.getCategories(),e=document.getElementById("songsBook-card");e.innerHTML="",t.forEach((t=>{const n=document.createElement("div");n.className="card text-white bg-secondary mb-3",n.id="card-category-"+t._id,e.appendChild(n)}))}async renderCategory2(){(await o.getCategories()).forEach((t=>{const e=document.getElementById("card-category-"+t._id);e.innerHTML="";const n=document.createElement("div");n.className="card-header",n.id="header-category-"+t._id,n.innerHTML=`\n            ${t.categoryType}\n            `,e.appendChild(n);const a=document.createElement("div");a.className="card-body",a.id="body-category-"+t._id,e.appendChild(a)}))}async renderSongBook(){(await s.getLyricsPublish()).forEach((async t=>{const e=document.getElementById("body-category-"+t.category);if(null!=e){e.innerHTML="";const o=await a.getSong(t.song),s=""+(await n.getLyric(o.lyric)).text,c=document.createElement("div");c.className="",c.id="card-category-"+t._id,c.innerHTML=`\n                <h4 class="card-title" id="song-title-${t._id}">${o.title}</h4>\n                `+s,e.appendChild(c)}}))}async renderCategory3(){(await o.getCategories()).forEach((t=>{const e=document.getElementById("card-category-"+t._id);e.innerHTML="";const n=document.createElement("div");n.className="card-header",n.id="header-category-"+t._id,n.innerHTML=`\n            ${t.categoryType}\n            `,e.appendChild(n);const a=document.createElement("div");a.className="card-body",a.id="body-category-"+t._id,e.appendChild(a)}))}};document.addEventListener("DOMContentLoaded",(()=>{const t=new c;t.renderCategory(),t.renderCategory2(),t.renderSongBook()})),document.getElementById("btn-update").addEventListener("click",(t=>{t.target.classList.contains("update")&&(new c).renderSongBook(),t.preventDefault()}))})();
//# sourceMappingURL=songBook.bundle.js.map